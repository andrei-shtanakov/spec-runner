# ATP Executor Configuration
# Настройки автоматического выполнения задач через Claude CLI

executor:
  # Retry policy
  max_retries: 3                    # Максимум попыток на задачу
  retry_delay_seconds: 5            # Пауза между попытками
  max_consecutive_failures: 2       # Стоп после N подряд неудач
  
  # Timeout
  task_timeout_minutes: 30          # Таймаут на одну задачу
  
  # Claude CLI
  claude_command: "claude"          # Команда (claude, claude-code, etc.)
  claude_model: ""                  # Модель (пусто = default)
  
  # Hooks
  hooks:
    pre_start:
      create_git_branch: true       # Создавать ветку task/TASK-XXX
    
    post_done:
      run_tests: true               # Запускать тесты
      run_lint: true                # Запускать lint
      auto_commit: false            # Автокоммит изменений
  
  # Commands
  commands:
    test: "make test-fast"          # Команда тестов
    lint: "make lint"               # Команда lint
    
  # Paths
  paths:
    logs: "spec/.executor-logs"     # Директория логов
    state: "spec/.executor-state.json"  # Файл состояния

# Task execution order (optional override)
# По умолчанию используется приоритет из tasks.md + зависимости
execution_order:
  # Можно указать явный порядок:
  # - TASK-100
  # - TASK-001
  # - TASK-004
  
# Skip tasks (won't be executed automatically)
skip_tasks:
  # - TASK-021  # Web Dashboard - manual
  # - TASK-024  # Documentation - manual

# Environment variables for Claude
environment:
  # ANTHROPIC_API_KEY: "${ANTHROPIC_API_KEY}"
  # PROJECT_ROOT: "."
